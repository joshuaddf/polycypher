generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id             String     @id @default(uuid())
  kindeId        String     @unique
  email          String     @unique
  firstName      String?
  lastName       String?
  profilePicture String?
  symptoms       Symptom[] 
  scores         Score[]    
  pcosAssessments PcosAssessment[]
  createdAt      DateTime   @default(now())
  updatedAt      DateTime   @updatedAt
}

model Symptom {
  id          String    @id @default(uuid())
  userId      String
  user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  severity    Int?      
  reportedAt  DateTime  @default(now())
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

model Score {
  id          String    @id @default(uuid())
  userId      String
  user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  value       Float     
  type        String?   
  recordedAt  DateTime  @default(now())
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

model PcosAssessment {
  id            String    @id @default(uuid())
  userId        String
  user          User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  pcos          String?   // "Yes" | "No"
  follicleR     Float?
  follicleL     Float?
  skinDarkening String?   // "Yes" | "No"
  hairGrowth    String?   // "Yes" | "No"
  weightGain    String?   // "Yes" | "No"
  cycle         String?   // "Regular" | "Irregular"
  fastFood      String?   // "Yes" | "No"
  pimples       String?   // "Yes" | "No"
  amh           Float?
  weight        Float?
  score         Float?
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}